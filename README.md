# IRS990 Tax Parser
Mattheus Faria

## Overview
This project uses [Propublica's Nonprofit Explorer](https://projects.propublica.org/nonprofits/) to scrape IRS 990 data into an excel file for further manipulation.

## How it works
By using the python library "BeautifulSoup", You can input either a single college name or a list of colleges, and the code will search propublica to find the college and extract the IRS 990 form in the form of an xml file generated by propublica. It then scrapes through the xml tags present in all forms to get the values of different data points. 

Once all data has been gathered, it will then generate an excel file. If only one college was searched for, it will generate a single sheet excel file named after whatever college subtitle (Usually acronym) was input. If a list of colleges was input, it will be output in a single excel workbook named after the name of the list, with every college in the list being its own excel sheet in the workbook

### Important Note
Due to how the search for a college works, the name of the college input has to be written out completely for propublica to return a valid filling. For example, searching "WPI" will return nothing, but "Worcester Polytechnic Instiute" will return WPI's tax filling. 

## Searching 
After running the code, the terminal will ask whether you are using a list or not. If you are using a list, input the text file containing the list. The code will look for the ".txt" extension in the filename to use the list, so any other input without ".txt" at the end will prompt a single college lookup. Note: Do not include "Inputs/" in the terminal, the code already reads lists from the "Inputs" Folder

### Single College Lookup
The terminal will ask for two inputs: The college's full name and whatever subtitle you would like to use. The full name is required to be written out in accordace with the important note above. The subtitle will be the name of the excel file output/the sheet name in the excel file. Normally, this will be a college's acronym (Northeastern University = NEU), but string subtitles work too (University of Massachusetts Amherst = UMass Amherst)

### List of College Lookup
Create a text file in the code's directory/folder. The list should be the name of the college, new line, the subtitle for the college, new line, following this example:

Worcester Polytechnic Institute

WPI

Northeastern University

NEU

Universtiy of Massachusetts Amherst

UMass Amherst

...

Once the terminal asks if you are using a list, input the name of the text file containing the list (example in the github would be "Inputs/Test List.txt"). The code will then search through all the listed colleges and output them in the master excel workbook created.

## To-Do
- When looking up some colleges, other associations affiliated with the college can sometimes show up first, so more specific searching is required
    - Example: Eastern Connecticut State University's only search is "Eastern Connecticut State University Alumni Association Inc." which is not the college's tax filling
- Better error handling when certain information cannot be found
- Possible move to a AWS/react based web-application for a better user-experience (And better data storage through Amazon's databases)

## Python Library Requirments
Creation of a dependency folder/python package in the works. For now, use "pip install {library}" to download the following libraries
- BeautifulSoup
- Requests
- Pandas
- Openpyxl
